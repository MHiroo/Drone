import RPi.GPIO as GPIO
from time import sleep

GPIO.setmode(GPIO.BOARD) 
GPIO.setwarnings(False)

Moteur = 12      ## entr√©e du moteur, pin 12

GPIO.setup(Moteur,GPIO.OUT)

pwm = GPIO.PWM(Moteur,50)   ## pwm de la broche 12 a une frequence de 50 Hz
pwm.start(100)   ## on commemnce avec un rapport cyclique de 100%


print ("Rotation sens direct, vitesse maximale (rapport cyclique 100%)")
GPIO.output(Moteur,GPIO.HIGH)

sleep(5)  ## on laisse tourner le moteur 5 secondes avec des parametres

pwm.ChangeDutyCycle(40)  ## modification du rapport cyclique a 40%

print ("Rotation sens direct, au ralenti (rapport cyclique 40%)")


sleep(5)

pwm.ChangeDutyCycle(100)
print ("Rotation sens inverse, vitesse maximale (rapport cyclique 100%)")
sleep(5)

print ("Arret du moteur")
GPIO.output(Moteur1E,GPIO.LOW)

pwm.stop()    ## interruption du pwm

GPIO.cleanup()